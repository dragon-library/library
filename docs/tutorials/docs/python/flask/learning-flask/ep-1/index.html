<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Ep.1 Your first Flask app"><meta property="og:title" content="Ep.1 Your first Flask app" />
<meta property="og:description" content="Your first Flask app | Learning Flask Ep. 1 In the first part of this series, you&rsquo;ll learn how to create and run your very first Flask web application
Creating a project directory and virtual environment First of all, we need to create our new project directory. We&rsquo;re going to a new directory called app in our home directory.
 Tip - I advise using the same names for your project so it&rsquo;s easier to follow along" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://dragon-library.github.io/library/book/docs/python/flask/learning-flask/ep-1/" />

<title>Ep.1 Your first Flask app | e-Library</title>
<link rel="icon" href="/library/book/favicon.png" type="image/x-icon">


<link rel="stylesheet" href="/library/book/book.min.1d746970b49dc587625360ff0736847825f2a3eb3e927d89e878500c194f34a0.css" integrity="sha256-HXRpcLSdxYdiU2D/BzaEeCXyo&#43;s&#43;kn2J6HhQDBlPNKA=">


<script defer src="/library/book/en.search.min.ad2d487d7fe0a47d6c04b5dc4be0a45bf5155cc06b86c0ee7a4606ede1526480.js" integrity="sha256-rS1IfX/gpH1sBLXcS&#43;CkW/UVXMBrhsDuekYG7eFSZIA="></script>

<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body>
  <input type="checkbox" class="hidden" id="menu-control" />
  <main class="flex container">

    <aside class="book-menu fixed">
      <nav>
<h2 class="book-brand">
  <a href="https://dragon-library.github.io/library/book/"><span>e-Library</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" />
  <div class="book-search-spinner spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>





    

  
  





 
  
    




  
  <ul>
    
      
        

  <li >
    
      

  <a href="/library/book/docs/python/" >
      Python
  </a>


    

    




  
  <ul>
    
      
        

  <li >
    
      

  <a href="/library/book/docs/python/flask/" >
      Flask
  </a>


    

    




  
  <ul>
    
      
        

  <li >
    
      

  <a href="/library/book/docs/python/flask/learning-flask/" >
      Learning Flask
  </a>


    

    




  
  <ul>
    
      
        <li>

  <a href="/library/book/docs/python/flask/learning-flask/ep-1/"  class="active">
      Ep.1 Your first Flask app
  </a>

</li>
      
    
      
        <li>

  <a href="/library/book/docs/python/flask/learning-flask/ep-2/" >
      Ep.2 Flask application structure
  </a>

</li>
      
    
      
        <li>

  <a href="/library/book/docs/python/flask/learning-flask/ep-3/" >
      Ep.3 Serving HTML files
  </a>

</li>
      
    
      
        <li>

  <a href="/library/book/docs/python/flask/learning-flask/ep-4/" >
      Ep.4 Serving static files
  </a>

</li>
      
    
      
        <li>

  <a href="/library/book/docs/python/flask/learning-flask/ep-5/" >
      Ep.5 Jinja template inheritance
  </a>

</li>
      
    
      
        <li>

  <a href="/library/book/docs/python/flask/learning-flask/ep-6/" >
      Ep.6 Jinja template design
  </a>

</li>
      
    
  </ul>
  



  </li>


      
    
  </ul>
  



  </li>


      
    
      
        <li>

  <a href="/library/book/docs/python/awesome/" >
      Awesome Python
  </a>

</li>
      
    
      
        <li>

  <a href="/library/book/docs/python/cheat-sheet/" >
      Python Cheat sheet
  </a>

</li>
      
    
      
        <li>

  <a href="/library/book/docs/python/list-python-basics/" >
      List for Tutorial
  </a>

</li>
      
    
      
        <li>

  <a href="/library/book/docs/python/modules-list/" >
      Modules List
  </a>

</li>
      
    
  </ul>
  



  </li>


      
    
      
        

  <li >
    
      

  <a href="/library/book/docs/front-end/bootstrap/basic-bootstap/" >
      Bootstrap 4 แบบพื้นฐาน
  </a>


    

    






  </li>


      
    
  </ul>
  



  











</nav>


<script>
(function() {
  var menu = document.querySelector("aside.book-menu nav");
  addEventListener("beforeunload", function(event) {
    localStorage.setItem("menu.scrollTop", menu.scrollTop);
  });
  menu.scrollTop = localStorage.getItem("menu.scrollTop");
})();
</script>

    </aside>

    <div class="book-page">
      <header class="flex align-center justify-between book-header">
  <label for="menu-control">
    <img src="/library/book/svg/menu.svg" alt="Menu" />
  </label>
  <strong>Ep.1 Your first Flask app</strong>
</header>

      
<article class="markdown">

<h1 id="your-first-flask-app-learning-flask-ep-1">Your first Flask app | Learning Flask Ep. 1</h1>

<p>In the first part of this series, you&rsquo;ll learn how to create and run your very first Flask web application</p>

<h3 id="creating-a-project-directory-and-virtual-environment">Creating a project directory and virtual environment</h3>

<p>First of all, we need to create our new project directory. We&rsquo;re going to a new directory called  <code>app</code>  in our home directory.</p>

<blockquote>
<p>Tip - I advise using the same names for your project so it&rsquo;s easier to follow along</p>
</blockquote>

<p>Go ahead and create the directory with the following:</p>

<p><code>mkdir ~/app</code></p>

<p>Next, let&rsquo;s move into the  <code>app</code>  directory:</p>

<p><code>cd ~/app</code></p>

<p>Now we need create out Python virtual environment. Do so with the following command:</p>

<p><code>python -m venv env</code></p>

<p>This will create a new virtual environment called  <code>env</code></p>

<p>You&rsquo;ll see a new directory appear inside the  <code>app</code>  directory called  <code>env</code>. Now we need to activate our virtual environment before we install Flask.</p>

<p>Go ahead and run the following command to activate the environment:</p>

<p><code>source env/bin/activate</code></p>

<p>You should see  <code>(env)</code>  appear in front of your terminal prompt indicating the virtual environment is activated!</p>

<h3 id="updating-pip">Updating pip</h3>

<p>It&rsquo;s best practice to update pip (Python&rsquo;s package manager) after creating a new virtual environment. We can do so with the following:</p>

<p><code>pip install --upgrade pip</code></p>

<p>You should see a success message like the following
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">Collecting pip
  Using cached https:<span style="color:#f92672">//</span>files<span style="color:#f92672">.</span>pythonhosted<span style="color:#f92672">.</span>org<span style="color:#f92672">/</span>packages<span style="color:#f92672">/</span><span style="color:#ae81ff">46</span><span style="color:#f92672">/</span>dc<span style="color:#f92672">/</span><span style="color:#ae81ff">7</span>fd5df840efb3e56c8b4f768793a237ec4ee59891959d6a215d63f727023<span style="color:#f92672">/</span>pip<span style="color:#f92672">-</span><span style="color:#ae81ff">19.0</span><span style="color:#f92672">.</span><span style="color:#ae81ff">1</span><span style="color:#f92672">-</span>py2<span style="color:#f92672">.</span>py3<span style="color:#f92672">-</span>none<span style="color:#f92672">-</span>any<span style="color:#f92672">.</span>whl
Installing collected packages: pip
  Found existing installation: pip <span style="color:#ae81ff">18.1</span>
    Uninstalling pip<span style="color:#f92672">-</span><span style="color:#ae81ff">18.1</span>:
      Successfully uninstalled pip<span style="color:#f92672">-</span><span style="color:#ae81ff">18.1</span>
Successfully installed pip<span style="color:#f92672">-</span><span style="color:#ae81ff">19.0</span><span style="color:#f92672">.</span><span style="color:#ae81ff">1</span></code></pre></div></p>

<p>Now we&rsquo;re ready to install Flask!</p>

<h3 id="installing-flask">Installing Flask</h3>

<p>You install Flask just as you would any other Python package.</p>

<p><code>pip install flask</code></p>

<p>If we now run  <code>pip list</code>, you&rsquo;ll see the following:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">Package      Version
<span style="color:#f92672">------------</span> <span style="color:#f92672">-------</span>
Click        <span style="color:#ae81ff">7.0</span>
Flask        <span style="color:#ae81ff">1.0</span><span style="color:#f92672">.</span><span style="color:#ae81ff">2</span>
itsdangerous <span style="color:#ae81ff">1.1</span><span style="color:#f92672">.</span><span style="color:#ae81ff">0</span>
Jinja2       <span style="color:#ae81ff">2.10</span>
MarkupSafe   <span style="color:#ae81ff">1.1</span><span style="color:#f92672">.</span><span style="color:#ae81ff">0</span>
pip          <span style="color:#ae81ff">19.0</span><span style="color:#f92672">.</span><span style="color:#ae81ff">1</span>
setuptools   <span style="color:#ae81ff">40.6</span><span style="color:#f92672">.</span><span style="color:#ae81ff">2</span>
Werkzeug     <span style="color:#ae81ff">0.14</span><span style="color:#f92672">.</span><span style="color:#ae81ff">1</span></code></pre></div>

<blockquote>
<p>Note - Flask comes with several other packages so don&rsquo;t be alarmed when you see  <code>MarkupSafe</code>  or  <code>itsdangerous</code>!</p>
</blockquote>

<p>Ok so we&rsquo;ve got everything we need to start building our very simple application. Let&rsquo;s get to it.</p>

<h3 id="creating-a-flask-app">Creating a Flask app</h3>

<p>This guide is just to show you the most basic Flask application possible. You&rsquo;ll learn the correct way to structure a Flask application over the next couple of parts in this series.</p>

<p>The most basic Flask app can be just a single file. We&rsquo;re going to call it  <code>app.py</code>. Make sure you&rsquo;re in the  <code>app</code>  directory and run the following to create it:</p>

<p><code>touch app.py</code></p>

<p>Let&rsquo;s write some code! Go ahead and open up  <code>app.py</code>  in your favourite editor and follow along.</p>

<p>First of all, we need to import  <code>Flask</code>  from  <code>flask</code></p>

<p><code>from flask import Flask</code></p>

<p>Now we need to create our  <code>Flask</code>  application. We&rsquo;re going to pass  <code>__name__</code>  to  <code>Flask</code>  and assign it to the variable  <code>app</code></p>

<p>Don&rsquo;t worry about exactly why we&rsquo;re doing this. We&rsquo;ll cover it in a more advanced episode in this series.
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> flask <span style="color:#f92672">import</span> Flask

app <span style="color:#f92672">=</span> Flask(__name__)</code></pre></div>
Next up, we need to create a route or view (route and view are used interchangeably)</p>

<p>Let&rsquo;s create a route and explain it line by line after:
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> flask <span style="color:#f92672">import</span> Flask

app <span style="color:#f92672">=</span> Flask(__name__)

<span style="color:#a6e22e">@app.route</span>(<span style="color:#e6db74">&#34;/&#34;</span>)
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">index</span>():
    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;Hello world!&#34;</span></code></pre></div>
Let&rsquo;s talk through the 3 lines we just added:</p>

<p><code>@app.route(&quot;/&quot;)</code></p>

<p>Routes in Flask are created using the  <code>@app.route</code>  decorator and passing in a URL or path.</p>

<p>In this example, we&rsquo;ve passed  <code>&quot;/&quot;</code>  into the  <code>@app.route</code>  decorator.  <code>&quot;/&quot;</code>  is the root of the website or application.</p>

<p>This route will be triggered when someone goes to the root or index of our website, for example  <code>http://example.com</code>.</p>

<p><code>def index():
    return &quot;Hello world!&quot;</code></p>

<p>Under the  <code>@app.route</code>  decorator, we simply write a standard Python function with a  <code>return</code>  statement.</p>

<p>Flask will return whatever we pass to the  <code>return</code>  statement! In this case, just a short  <code>&quot;Hello world!&quot;</code>  string.</p>

<p>We need to add 2 more lines of code before we can run our app. Add the following:
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> flask <span style="color:#f92672">import</span> Flask

app <span style="color:#f92672">=</span> Flask(__name__)

<span style="color:#a6e22e">@app.route</span>(<span style="color:#e6db74">&#34;/&#34;</span>)
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">index</span>():
    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;Hello world!&#34;</span>

<span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;__main__&#34;</span>:
    app<span style="color:#f92672">.</span>run()<span style="color:#960050;background-color:#1e0010">`</span> </code></pre></div>
Let&rsquo;s take a look at what we added:
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;__main__&#34;</span>:
    app<span style="color:#f92672">.</span>run()</code></pre></div>
Again, I don&rsquo;t want you to worry too much about what&rsquo;s happening here. For now just know that  <code>__name__</code>  is a special variable used by the Python interpreter to understand if a file is the main program.</p>

<p>Just as we passed  <code>__name__</code>  into the  <code>Flask()</code>  class, the special variable  <code>__name__</code>  is equal to  <code>__main__</code>. You&rsquo;ll learn more about this principle as you advance through the series.</p>

<h3 id="running-the-flask-app">Running the Flask app</h3>

<p>Time to see the app in action! We can run our Flask app in a couple of ways.</p>

<p>In your terminal, make sure you&rsquo;re in the same directory as  <code>app.py</code>  and run the following:</p>

<p><code>python app.py</code></p>

<p>You&rsquo;ll see the following message in your terminal to let you know Flask is running:
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"> <span style="color:#f92672">*</span> Serving Flask app <span style="color:#e6db74">&#34;app&#34;</span> (lazy loading)
 <span style="color:#f92672">*</span> Environment: production
   WARNING: Do <span style="color:#f92672">not</span> use the development server <span style="color:#f92672">in</span> a production environment<span style="color:#f92672">.</span>
   Use a production WSGI server instead<span style="color:#f92672">.</span>
 <span style="color:#f92672">*</span> Debug mode: off
 <span style="color:#f92672">*</span> Running on http:<span style="color:#f92672">//</span><span style="color:#ae81ff">127.0</span><span style="color:#f92672">.</span><span style="color:#ae81ff">0.1</span>:<span style="color:#ae81ff">5000</span><span style="color:#f92672">/</span> (Press CTRL<span style="color:#f92672">+</span>C to quit)
<span style="color:#ae81ff">127.0</span><span style="color:#f92672">.</span><span style="color:#ae81ff">0.1</span> <span style="color:#f92672">-</span> <span style="color:#f92672">-</span> [<span style="color:#ae81ff">03</span><span style="color:#f92672">/</span>Feb<span style="color:#f92672">/</span><span style="color:#ae81ff">2019</span> <span style="color:#ae81ff">14</span>:<span style="color:#ae81ff">35</span>:<span style="color:#ae81ff">04</span>] <span style="color:#e6db74">&#34;GET / HTTP/1.1&#34;</span> <span style="color:#ae81ff">200</span> <span style="color:#f92672">-</span>
<span style="color:#ae81ff">127.0</span><span style="color:#f92672">.</span><span style="color:#ae81ff">0.1</span> <span style="color:#f92672">-</span> <span style="color:#f92672">-</span> [<span style="color:#ae81ff">03</span><span style="color:#f92672">/</span>Feb<span style="color:#f92672">/</span><span style="color:#ae81ff">2019</span> <span style="color:#ae81ff">14</span>:<span style="color:#ae81ff">35</span>:<span style="color:#ae81ff">04</span>] <span style="color:#e6db74">&#34;GET /favicon.ico HTTP/1.1&#34;</span> <span style="color:#ae81ff">404</span> </code></pre></div>
Great, our app is running! Ignore any of the warning messages in your terminal and open up a new browser tab and head to the following URL:</p>

<p><a href="http://127.0.0.1:5000/">http://127.0.0.1:5000/</a></p>

<p>You should see  <code>Hello world!</code>  in your browser!</p>

<p>Head back over to your terminal and stop the app by hitting  <code>Ctrl + c</code></p>

<p>So you&rsquo;ve seen one way to run your Flask app but it&rsquo;s not recommended. There&rsquo;s a better way.</p>

<h3 id="flask-environment-variables">Flask environment variables</h3>

<p>To make running our app even easier, we&rsquo;re going to set a couple of environment variables in our shell. Run the following commands and we&rsquo;ll talk through them after:
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">export FLASK_APP<span style="color:#f92672">=</span>app<span style="color:#f92672">.</span>py
export FLASK_ENV<span style="color:#f92672">=</span>development </code></pre></div>
Running  <code>export FLASK_APP=app.py</code>  will set the  <code>FLASK_APP</code>  variable to  <code>app.py</code></p>

<p>Running  <code>export FLASK_ENV=development</code>  tells Flask we want to run our app in development mode</p>

<blockquote>
<p>Warning - Never run a live Flask application in production using development mode</p>
</blockquote>

<p>We&rsquo;re quite a way from deploying our app to the web but I want to drill it home early, just so you know. We&rsquo;ll cover the reasons why later in the series.</p>

<p>We can now run our app using the following simple command:</p>

<p><code>flask run</code></p>

<p>You&rsquo;ll see:
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"> <span style="color:#f92672">*</span> Serving Flask app <span style="color:#e6db74">&#34;app.py&#34;</span> (lazy loading)
 <span style="color:#f92672">*</span> Environment: development
 <span style="color:#f92672">*</span> Debug mode: on
 <span style="color:#f92672">*</span> Running on http:<span style="color:#f92672">//</span><span style="color:#ae81ff">127.0</span><span style="color:#f92672">.</span><span style="color:#ae81ff">0.1</span>:<span style="color:#ae81ff">5000</span><span style="color:#f92672">/</span> (Press CTRL<span style="color:#f92672">+</span>C to quit)
 <span style="color:#f92672">*</span> Restarting <span style="color:#66d9ef">with</span> stat
 <span style="color:#f92672">*</span> Debugger <span style="color:#f92672">is</span> active<span style="color:#960050;background-color:#1e0010">!</span>
 <span style="color:#f92672">*</span> Debugger PIN: <span style="color:#ae81ff">201</span><span style="color:#f92672">-</span><span style="color:#ae81ff">167</span><span style="color:#f92672">-</span><span style="color:#ae81ff">879</span></code></pre></div>
You&rsquo;ll notice we don&rsquo;t get any of the warnings and that  <code>Environment</code>  is set to  <code>development</code></p>

<p>Head back to  <a href="http://127.0.0.1:5000/">http://127.0.0.1:5000/</a>  and you&rsquo;ll see the same  <code>Hello world!</code>  message as before.</p>

<p>Use  <code>Ctrl + c</code>  in your terminal to stop the app when you&rsquo;re ready.</p>

<p>To deactivate your virtual environment, simply enter:</p>

<p><code>deactivate</code></p>

<h3 id="wrapping-up">Wrapping up</h3>

<p>You now know how to create and run a very basic Flask application, along with some best practices for setting environment variables and using the  <code>flask run</code>  command.</p>

<p>Next up, learning how to structure your Flask application properly!</p>

<p>Last modified  ·  28 Feb 2019</p>

<blockquote>
<p>Source : <a href="https://pythonise.com/series/learning-flask/your-first-flask-app#creating-a-project-directory-and-virtual-environment">pythonise.com</a></p>
</blockquote>
</article>

      <div class="book-footer justify-between">
  

  

  
  <div>
    <a class="flex align-center" href="https://github.com/alex-shpak/hugo-book/edit/master/exampleSite/content/docs%5cPython%5cFlask%5cLearning-Flask%5cep-1.md" target="_blank">
      <img src="/library/book/svg/edit.svg" alt="Edit" />
      <span>Edit this page</span>
    </a>
  </div>
  

</div>

      
    </div>

    
  

  <aside class="book-toc levels-true fixed">
    <nav id="TableOfContents">
<ul>
<li><a href="#your-first-flask-app-learning-flask-ep-1">Your first Flask app | Learning Flask Ep. 1</a>
<ul>
<li>
<ul>
<li><a href="#creating-a-project-directory-and-virtual-environment">Creating a project directory and virtual environment</a></li>
<li><a href="#updating-pip">Updating pip</a></li>
<li><a href="#installing-flask">Installing Flask</a></li>
<li><a href="#creating-a-flask-app">Creating a Flask app</a></li>
<li><a href="#running-the-flask-app">Running the Flask app</a></li>
<li><a href="#flask-environment-variables">Flask environment variables</a></li>
<li><a href="#wrapping-up">Wrapping up</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
  </aside>



  </main>

  
</body>

</html>
