<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Ep.2 Flask application structure"><meta property="og:title" content="Ep.2 Flask application structure" />
<meta property="og:description" content="Flask application structure | Learning Flask Ep. 2 Structuring your Flask application for
In this part of the Learning Flask series, you&rsquo;ll learn how to structure files and directories in your Flask application.
Flask is a very flexible framework and doesn&rsquo;t enforce that you follow any specific pattern for structuring your application. However there are some best practices and tips to make sure you don&rsquo;t run into issues down the line as your application grows!" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://dragon-library.github.io/library/tutorials/docs/python/flask/learning-flask/ep-2/" />

<title>Ep.2 Flask application structure | Tutorials</title>
<link rel="icon" href="/library/tutorials/favicon.png" type="image/x-icon">


<link rel="stylesheet" href="/library/tutorials/book.min.d7931d740642e656222bfe71c31926bed24ceb9fafa2d9069a7a83fa55070bb9.css" integrity="sha256-15MddAZC5lYiK/5xwxkmvtJM65&#43;votkGmnqD&#43;lUHC7k=">


<script defer src="/library/tutorials/en.search.min.796a4672a7e57dd85bfb169289e29c8f7a3525f441ba5185839df98c6b0fee69.js" integrity="sha256-eWpGcqflfdhb&#43;xaSieKcj3o1JfRBulGFg535jGsP7mk="></script>
<!-- highlight -->
  <link rel="stylesheet" href="https://dragon-library.github.io/library/tutorials/plugins/highlight/hybrid.css">


<!-- match-height JS -->
<script src="https://dragon-library.github.io/library/tutorials/plugins/match-height/jquery.matchHeight-min.js"></script>

<!-- highlight -->
<script src="https://dragon-library.github.io/library/tutorials/plugins/highlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body>
  <input type="checkbox" class="hidden" id="menu-control" />
  <main class="flex container">

    <aside class="book-menu fixed">
      <nav>
<h2 class="book-brand">
  <a href="https://dragon-library.github.io/library/tutorials/"><span>Tutorials</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" />
  <div class="book-search-spinner spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>





    

  
  





 
  
    




  
  <ul>
    
      
        

  <li >
    
      

  <a href="/library/tutorials/docs/python/" >
      Python
  </a>


    

    




  
  <ul>
    
      
        

  <li >
    
      

  <a href="/library/tutorials/docs/python/beginer/" >
      Beginners
  </a>


    

    






  </li>


      
    
      
        <li>

  <a href="/library/tutorials/docs/python/pythonthailand/" >
      Python Thailand
  </a>

</li>
      
    
      
        <li>

  <a href="/library/tutorials/docs/python/awesome/" >
      Awesome Python
  </a>

</li>
      
    
      
        

  <li >
    
      

  <a href="/library/tutorials/docs/python/e-book/" >
      e-Book
  </a>


    

    






  </li>


      
    
      
        

  <li >
    
      

  <a href="/library/tutorials/docs/python/flask/" >
      Flask
  </a>


    

    




  
  <ul>
    
      
        

  <li >
    
      

  <a href="/library/tutorials/docs/python/flask/learning-flask/" >
      Learning Flask
  </a>


    

    




  
  <ul>
    
      
        <li>

  <a href="/library/tutorials/docs/python/flask/learning-flask/ep-1/" >
      Ep.1 Your first Flask app
  </a>

</li>
      
    
      
        <li>

  <a href="/library/tutorials/docs/python/flask/learning-flask/ep-2/"  class="active">
      Ep.2 Flask application structure
  </a>

</li>
      
    
      
        <li>

  <a href="/library/tutorials/docs/python/flask/learning-flask/ep-3/" >
      Ep.3 Serving HTML files
  </a>

</li>
      
    
      
        <li>

  <a href="/library/tutorials/docs/python/flask/learning-flask/ep-4/" >
      Ep.4 Serving static files
  </a>

</li>
      
    
      
        <li>

  <a href="/library/tutorials/docs/python/flask/learning-flask/ep-5/" >
      Ep.5 Jinja template inheritance
  </a>

</li>
      
    
      
        <li>

  <a href="/library/tutorials/docs/python/flask/learning-flask/ep-6/" >
      Ep.6 Jinja template design
  </a>

</li>
      
    
      
        <li>

  <a href="/library/tutorials/docs/python/flask/learning-flask/ep-7/" >
      Ep.7 Working with forms in Flask
  </a>

</li>
      
    
      
        <li>

  <a href="/library/tutorials/docs/python/flask/learning-flask/ep-8/" >
      Ep.8 Generating dynamic URLs in Flask
  </a>

</li>
      
    
      
        <li>

  <a href="/library/tutorials/docs/python/flask/learning-flask/ep-9/" >
      Ep.9 Working with JSON data
  </a>

</li>
      
    
      
        <li>

  <a href="/library/tutorials/docs/python/flask/learning-flask/ep-10/" >
      Ep.10 Flask and the Fetch API
  </a>

</li>
      
    
      
        <li>

  <a href="/library/tutorials/docs/python/flask/learning-flask/ep-11/" >
      Ep.11 Query strings in Flask
  </a>

</li>
      
    
      
        <li>

  <a href="/library/tutorials/docs/python/flask/learning-flask/ep-12/" >
      Ep.12 Flask configuration files
  </a>

</li>
      
    
      
        <li>

  <a href="/library/tutorials/docs/python/flask/learning-flask/ep-13/" >
      Ep.13 Uploading files with Flask
  </a>

</li>
      
    
      
        <li>

  <a href="/library/tutorials/docs/python/flask/learning-flask/ep-14/" >
      Ep.14 Sending files with Flask
  </a>

</li>
      
    
      
        <li>

  <a href="/library/tutorials/docs/python/flask/learning-flask/ep-15/" >
      Ep.15 Flask cookies
  </a>

</li>
      
    
      
        <li>

  <a href="/library/tutorials/docs/python/flask/learning-flask/ep-16/" >
      Ep.16 The Flask session object
  </a>

</li>
      
    
  </ul>
  



  </li>


      
    
      
        <li>

  <a href="/library/tutorials/docs/python/flask/primer-jinja-templating/" >
      Primer on Jinja Templating
  </a>

</li>
      
    
  </ul>
  



  </li>


      
    
      
        <li>

  <a href="/library/tutorials/docs/python/cheat-sheet/" >
      Python Cheat sheet
  </a>

</li>
      
    
      
        <li>

  <a href="/library/tutorials/docs/python/list-python-basics/" >
      List for Tutorial
  </a>

</li>
      
    
      
        <li>

  <a href="/library/tutorials/docs/python/modules-list/" >
      Modules List
  </a>

</li>
      
    
  </ul>
  



  </li>


      
    
      
        

  <li >
    
      

  <a href="/library/tutorials/docs/front-end/bootstrap/basic-bootstap/" >
      Bootstrap 4 แบบพื้นฐาน
  </a>


    

    






  </li>


      
    
      
        

  <li >
    
      

  <a href="/library/tutorials/docs/front-end/javascript/" >
      JavaScript
  </a>


    

    






  </li>


      
    
      
        

  <li >
    
      

  <a href="/library/tutorials/docs/articles/" >
      Articles
  </a>


    

    






  </li>


      
    
  </ul>
  



  











</nav>


<script>
(function() {
  var menu = document.querySelector("aside.book-menu nav");
  addEventListener("beforeunload", function(event) {
    localStorage.setItem("menu.scrollTop", menu.scrollTop);
  });
  menu.scrollTop = localStorage.getItem("menu.scrollTop");
})();
</script>

    </aside>

    <div class="book-page">
      <header class="flex align-center justify-between book-header">
  <label for="menu-control">
    <img src="/library/tutorials/svg/menu.svg" alt="Menu" />
  </label>
  <strong>Ep.2 Flask application structure</strong>
</header>

      
<article class="markdown">

<h1 id="flask-application-structure-learning-flask-ep-2">Flask application structure | Learning Flask Ep. 2</h1>

<p>Structuring your Flask application for</p>

<p>In this part of the Learning Flask series, you&rsquo;ll learn how to structure files and directories in your Flask application.</p>

<p>Flask is a very flexible framework and doesn&rsquo;t enforce that you follow any specific pattern for structuring your application. However there are some best practices and tips to make sure you don&rsquo;t run into issues down the line as your application grows!</p>

<p>Like I said, there&rsquo;s many ways to setup your structure. This is a pattern I&rsquo;ve been using for the last couple of years and has worked very well for me.</p>

<p>Let&rsquo;s get started.</p>

<h3 id="you-application-as-a-package">You application as a package</h3>

<p>By far the most popular way to structure your application is by using the package method, where we define our Flask application as a package and can import it! Just like we would any other Python package.</p>

<p>The package method allows you much more flexibility, as we can split our application up into multiple logical files, making working with our app much cleaner and easier to navigate.</p>

<p>As this is a beginner series, we&rsquo;re going to expand from our simple, single file application and break it up into multiple files and package it up.</p>

<p>In the last part of this series, we created a single directory called  <code>app</code>  in our home directory containing a single file called  <code>app.py</code>.</p>

<p>Let&rsquo;s take a look at how our new project structure is going to look from inside our  <code>app</code>  project directory:</p>

<pre><code class="language-html">├── app
│   ├── __init__.py
│   └── views.py
├── env
├── requirements.txt
└── run.py` 
</code></pre>

<p>We&rsquo;re going to go through each file step by step. But for now, let&rsquo;s go ahead and create our structure!</p>

<p>Make your way to the  <code>app</code>  directory you created in your home folder:</p>

<p><code>cd ~/app</code></p>

<p>Running the  <code>ls</code>  command, your should see the single  <code>app.py</code>  file along with the virtual environment direcory named  <code>env</code></p>

<p>We&rsquo;re going to keep our virtual environment but delete  <code>app.py</code>  and start from scratch. Delete the file with the following:</p>

<p><code>rm app.py</code></p>

<p>While we&rsquo;re here in the root of our  <code>app</code>  directory. Go ahead and create a file called  <code>run.py</code></p>

<p>We&rsquo;ll use this file as the entrypoint to our Flask app.</p>

<p>Now create another directory called  <code>app</code>  and move into it. This is going to contain our Flask application and become our package</p>

<p><code>mkdir app
cd app</code></p>

<p>Once we&rsquo;re in our newly created  <code>app</code>  directory, we need to create the  <code>__init__.py</code>  and  <code>views.py</code>  files:</p>

<p><code>touch __init__.py views.py</code></p>

<p>Great, we&rsquo;ve created our basic application structure. Let&rsquo;s go through each file, add some code and explain what we&rsquo;ve done.</p>

<p>We&rsquo;ll start with the  <code>__init__.py</code>  file. Go ahead and open it up in an editor and enter the following:</p>

<p><strong>app/app/<strong>init</strong>.py</strong></p>

<pre><code class="language-py">from flask import Flask

app = Flask(__name__)

from app import views` 
</code></pre>

<p>You&rsquo;ll be familiar with the first 2 lines, just like we did in the last episode we&rsquo;re importing Flask and setting our  <code>app</code>  variable, however you&rsquo;ll noticed we&rsquo;ve added  <code>from app import views</code>  at the bottom.</p>

<p>Using this method, we can import multiple python files into our Flask app (as you&rsquo;ll see later)</p>

<p>Think of the  <code>__init__.py</code>  file as a contructor that pulls all of the parts of our application together into a package and then tells Python to treat it as a package!</p>

<p>Now, let&rsquo;s add some views in  <code>views.py</code></p>

<p><strong>app/app/views.py</strong></p>

<pre><code class="language-py">from app import app

@app.route(&quot;/&quot;)
def index():
    return &quot;Hello world&quot;
</code></pre>

<p>Just like in our first app, we&rsquo;re creating a new view using the  <code>@app.route</code>  decorator and passing it a URL. The only difference is the  <code>from app import app</code>  statement at the top of the file.</p>

<p>We&rsquo;re actually importing the  <code>app</code>  variable we created in the  <code>__init__.py</code>. Meaning we can access it anywhere in our package!</p>

<p>Let&rsquo;s add another view and pass it a different URL:</p>

<p><strong>app/app/views.py</strong></p>

<pre><code class="language-py">from app import app

@app.route(&quot;/&quot;)
def index():
    return &quot;Hello world&quot;

@app.route(&quot;/about&quot;)
def about():
    return &quot;All about Flask&quot;
</code></pre>

<p>We&rsquo;ve added another route with the URL  <code>&quot;/about&quot;</code>, changed the function name to  <code>about</code>  and then told it to return  <code>&quot;All about Flask&quot;</code></p>

<blockquote>
<p>Tip - Routes in Flask must always start with a  <code>/</code>  slash</p>
</blockquote>

<p>You&rsquo;ll learn more about routing in the next few parts of this series!</p>

<p>Before we can run our app, we need to create an entrypoint. This is where we&rsquo;ll instruct our app to run.</p>

<p>Go back up one directory into the parent  <code>app</code>  folder, open up  <code>run.py</code>  and add the following:</p>

<p><strong>app/run.py</strong></p>

<pre><code class="language-py">from app import app

if __name__ == &quot;__main__&quot;:
    app.run()
</code></pre>

<p>We&rsquo;re importing the  <code>app</code>  variable from the  <code>app</code>  package that we&rsquo;ve just created.</p>

<p>We&rsquo;re then calling the  <code>app.run()</code>  method, just like in the previous tutorial by wrapping it in an  <code>if __name__ == &quot;__main__&quot;:</code>  block.</p>

<p>Before we run our app, we need to set our environment variables</p>

<h3 id="flask-environment-variables">Flask environment variables</h3>

<blockquote>
<p>Tip - If you deactivated the virtual environment. Go ahead and re-activate it with  <code>source env.bin/activate</code>  from within the parent  <code>app</code>  directory</p>
</blockquote>

<p>Just like last time, we&rsquo;re going to set 2 environment variables:</p>

<pre><code>pain
export FLASK_APP=run.py
export FLASK_ENV=development
</code></pre>

<p>We&rsquo;ve set the  <code>FLASK_APP</code>  variable to  <code>run.py</code>  which is our Flask entry point.</p>

<h3 id="running-our-app">Running our app</h3>

<p>Run the app with the following:</p>

<p><code>flask run</code></p>

<p>You&rsquo;ll see the following message, just like last time:</p>

<pre><code class="language-html"> * Serving Flask app &quot;run.py&quot; (lazy loading)
 * Environment: development
 * Debug mode: on
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
 * Restarting with stat
 * Debugger is active!
 * Debugger PIN: 306-421-612
</code></pre>

<p>Open up a new browser tab and head to:</p>

<p><a href="http://127.0.0.1:5000/">http://127.0.0.1:5000/</a></p>

<p>You&rsquo;ll see our &ldquo;Hello world!&rdquo; message just as before.</p>

<p>Now head over to the other route we created at  <a href="http://127.0.0.1:5000/about">http://127.0.0.1:5000/about</a></p>

<p>You should see &ldquo;All about Flask&rdquo;</p>

<p>Boom! We&rsquo;re up and running with our application as a package.</p>

<p>Let&rsquo;s add some more views in another file and import them into our  <code>__init__.py</code>  file.</p>

<h3 id="splitting-up-views">Splitting up views</h3>

<p>Let&rsquo;s say we want an admin section of our app. Rather than stuffing all of our views into one folder, let&rsquo;s separate them out into their own seperate file.</p>

<p>Stop your app by hitting  <code>Ctrl + c</code>  in your terminal.</p>

<p>Move into the  <code>app</code>  package directory</p>

<p><code>cd app</code></p>

<p>Create a new file called  <code>admin_views.py</code></p>

<p><code>touch admin_views.py</code></p>

<p>Your project file structure should now look like this:</p>

<pre><code class="language-html">├── app
│   ├── __init__.py
│   ├── admin_views.py
│   └── views.py
└── run.py` 
</code></pre>

<p>Open up  <code>admin_views.py</code>  and add the following:</p>

<p><strong>app/app/admin_views.py</strong></p>

<pre><code class="language-py">from app import app

@app.route(&quot;/admin/dashboard&quot;)
def admin_dashboard():
    return &quot;Admin dashboard&quot;
</code></pre>

<p>We&rsquo;ve done exactly the same as what we did in  <code>views.py</code>. Imported  <code>app</code>  from  <code>app</code>  and declared a new route.</p>

<p>You&rsquo;ll also notice the URL is longer and contains 2 parts! You&rsquo;ll learn all about routing in detail later on in this series.</p>

<p>But before we can access this new route, we need to import  <code>admin_views.py</code>  in out  <code>__init__.py</code>  file.</p>

<p>Got ahead and open up  <code>__init__.py</code>  and  <code>from app import admin_views</code>  down at the bottom. It should then look like this:</p>

<p><strong>app/app/<strong>init</strong>.py</strong></p>

<pre><code class="language-py">from flask import Flask

app = Flask(__name__)

from app import views
from app import admin_views
</code></pre>

<p>Save the file and head back to the root  <code>app</code>  directory containing  <code>run.py</code>. It&rsquo;s time to run our app again.</p>

<p>Once there, run the following command to run the app:</p>

<p><code>flask run</code></p>

<p>Open up your browser. Let&rsquo;s check out our new admin route.</p>

<p><a href="http://127.0.0.1:5000/admin/dashboard">http://127.0.0.1:5000/admin/dashboard</a></p>

<p>You&rsquo;ll see &ldquo;Admin dashboard&rdquo;, just like we told the view to return!</p>

<p>We&rsquo;re still missing our  <code>requirements.txt</code>  file from our original structure. Let&rsquo;s go ahead and generate it with  <code>pip</code></p>

<p>Hit  <code>Ctrl + c</code>  to stop your application.</p>

<h3 id="requirements">Requirements</h3>

<p>From the root  <code>app</code>  directory, run the following command:</p>

<p><code>pip freeze &gt; requirements.txt</code></p>

<p>This command will create a  <code>requirements.txt</code>  file and place it in our current directory, listing all of the packages we&rsquo;ve installed.</p>

<p>It will look like this:</p>

<pre><code class="language-html">Click==7.0
Flask==1.0.2
itsdangerous==1.1.0
Jinja2==2.10
MarkupSafe==1.1.0
Werkzeug==0.14.1` 
</code></pre>

<blockquote>
<p>Tip - To install packages from a  <code>requirements.txt</code>  file, run  <code>pip install -r requirements.txt</code></p>
</blockquote>

<h3 id="wrapping-up">Wrapping up</h3>

<p>Awesome. You&rsquo;ve learned how to structure your Flask application as a package, break out your code into separate files and work with  <code>requirements.txt</code>  files.</p>

<p>Next up, You&rsquo;ll learn how to build a website and render HTML files!</p>

<p>Last modified  ·  28 Feb 2019</p>

<blockquote>
<p>Source : <a href="https://pythonise.com/series/learning-flask/flask-application-structure">pythonise.com</a>.</p>
</blockquote>
</article>

      <div class="book-footer justify-between">
  

  

  
  <div>
    <a class="flex align-center" href="https://github.com/alex-shpak/hugo-book/edit/master/exampleSite/content/docs%5cPython%5cFlask%5cLearning-Flask%5cep-2.md" target="_blank">
      <img src="/library/tutorials/svg/edit.svg" alt="Edit" />
      <span>Edit this page</span>
    </a>
  </div>
  

</div>

      
    </div>

    
  



  </main>

  
</body>

</html>
